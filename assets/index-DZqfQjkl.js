import{d as m,j as i,s as l,c as h,e as y,T as n}from"./index-XOgN-zBp.js";const b=[{type:"Select",name:"type",label:"资产类型",autosearch:1,props:{options:[{label:"我的资产",value:0},{label:"全部资产",value:1}]}},{type:"Input",name:"name",label:"用户名称"},{type:"Select",name:"sex",label:"用户性别",props:{options:[{label:"男",value:0},{label:"女",value:1}]}},{type:"DatePicker",name:"date",label:"入职日期",ismore:1,transform:({date:s})=>s?{date:m(s).format("YYYY-MM-DD")}:{date:void 0}},{type:"Input",name:"email",label:"电子邮箱",ismore:1},{type:"Input",name:"phone",label:"手机号码",ismore:1}],x={fields:b},f=(s=18)=>{const t=[];for(let e=1;e<=s;e++)e===1?t.push({classify:`职业${e}`,score:79,city:`湖南长沙${e}`,sex:`性别${e}`,sign:`签名${e}`,index:e,id:e,logins:99,username:"用户姓名"}):t.push({classify:`职业${e}`,score:79,city:`湖南长沙${e}`,sex:`性别${e}`,sign:`签名${e}`,index:e,id:e,logins:99,username:`用户姓名${e}`});return t};class w{users;currentId=1;constructor(t=18){this.users=f(t)}createUser(t){const e={...t,id:this.currentId++};return this.users.push(e),e}deleteUser(t){const e=this.users.findIndex(a=>a.id===t);return e!==-1?(this.users.splice(e,1),!0):!1}updateUser(t,e){const a=this.users.find(r=>r.id===t);return a?(Object.assign(a,e),a):null}getUsers({pageNum:t,pageSize:e=10},a=!0){const r=(t-1)*e,d=r+e,c=this.users.slice(r,d),p=this.users.length;return{data:a?c:this.users,total:p,code:200}}}const u=[{type:"Input",name:"username",label:"名称",required:!0},{type:"Select",name:"sex",label:"性别",required:!0,props:{options:[{label:"男",value:1},{label:"女",value:2}]}},{type:"Input",name:"city",label:"城市",required:!0},{type:"RangePicker",name:"date",label:"就读时间",required:!0,nameAlise:["startTime","endTime"]}],I=new w,o=s=>new Promise(t=>{setTimeout(t,s,!0)}),v=s=>({rowKey:"id",title:"用户列表",infoContent:i.jsx("div",{children:"客户签名总数：1244555；平均分数：58分"}),request:async t=>{await h(1500);const{code:e,data:a,total:r}=I.getUsers(t);return{total:r,isError:e!==200,list:a}},scroll:{x:1200},tools:[{label:"新增",key:"add1",modalFormProps:({onSearch:t})=>({title:"新增用户",fields:u,drag:!0,async onSubmit(){await o(400),l.success("保存成功"),t()}})},{label:"添加2",key:"add2",drawerFormProps:({onSearch:t})=>({title:"新增用户2",fields:u,column:2,async onSubmit(){await o(400),l.success("保存成功"),t()}})},{type:"Dropdown",label:"更多操作",menu:[{key:"action_1",label:"更多操作1"},{type:"Divider",key:"split"},{key:"action_2",label:"更多操作2"},{key:"action_3",label:"更多操作3"}]},{type:"Refresh"},{type:"FilterColumns"}],columns:[{title:()=>i.jsx("div",{children:"ID"}),dataIndex:"id",width:100,fixed:"left",ellipsis:!0},{title:"客户姓名",ellipsis:!0,dataIndex:"username",width:150},{title:"性别",ellipsis:!0,dataIndex:"sex",width:150,filters:[{text:"男",value:1},{text:"女",value:2}]},{title:"城市",ellipsis:!0,dataIndex:"city",width:150},{title:"签名",ellipsis:!0,dataIndex:"sign",width:120},{title:"职业",ellipsis:!0,dataIndex:"classify",width:120},{title:"分数",ellipsis:!0,dataIndex:"score",width:100,sorter:!0},{title:"登录次数",ellipsis:!0,dataIndex:"logins",width:100,sorter:!0}],rowOperations:{title:"操作",ellipsis:!0,width:200,showMore:4,fixed:"right",menus(t){return[{label:"编辑",key:"edit1",modalFormProps:({onRefresh:e})=>({initialValues:t,title:"编辑用户",fields:u,async onSubmit(){await o(400),l.success("保存成功"),e()}})},{label:"用户详情",key:"marker",onClick:()=>{s(`/user-detail/${t.id}`)}},{label:"删除",key:"remove",confirm:{content:"是否确定删除"},onClick:async({onSearch:e})=>{await new Promise(a=>{setTimeout(a,1e3)}),l.success("已删除"),e()}}]}}}),k=()=>{const s=y();return i.jsxs(n,{cacheTableParams:!0,cacheTableParamsId:"yhlb",children:[i.jsx(n.Search,{...x}),i.jsx(n.Table,{...v(s)})]})};export{k as default};
